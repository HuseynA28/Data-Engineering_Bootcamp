## Aggregate Functions in SQL

### Overview
SQL provides several aggregate functions to perform calculations on a set of values. Below are some commonly used aggregate functions:

- **AVG()** – Calculates the average value of a numeric column.
- **COUNT()** – Counts the number of rows in a column (excluding NULL values).
- **MAX()** – Finds the highest value in a column.
- **MIN()** – Finds the lowest value in a column.
- **SUM()** – Adds up all the values in a numeric column.
- **ROUND()** – Rounds a numeric value to a specified number of decimal places.

### Finding the Maximum and Minimum Payment Amounts

To get the highest and lowest payment amounts:

```sql
SELECT 
    MAX(amount), 
    MIN(amount) 
FROM classicmodels.payments;
```

### Finding the Payment Date of the Maximum Amount

If you try to find the date of the highest payment using:

```sql
SELECT 
    MAX(amount), 
    paymentDate 
FROM classicmodels.payments;
```

You will get an error because `MAX(amount)` returns only one value, but `paymentDate` may have multiple values. To fix this, we need to use **GROUP BY**.

### Using Multiple Aggregate Functions Together

You can combine different aggregate functions in one query:

```sql
SELECT 
    MAX(amount), 
    MIN(amount), 
    AVG(amount) 
FROM classicmodels.payments;
```

### Rounding the Average Value

The `AVG()` function often returns a number with many decimal places. To make it easier to read, we can round the result using `ROUND()`:

```sql
SELECT 
    ROUND(AVG(amount), 2) 
FROM classicmodels.payments;
```

This rounds the average amount to 2 decimal places.

### Calculating the Total Amount of Payments

```sql
SELECT 
    SUM(amount) 
FROM classicmodels.payments;
```

### Using GROUP BY

The `GROUP BY` statement allows us to group rows based on a specific column and perform calculations on each group separately.

For example, if you need to find the total payment amount for each day:

```sql
SELECT 
    paymentDate, 
    SUM(amount) 
FROM classicmodels.payments 
GROUP BY paymentDate;
```

### How the Query Works

1. The query selects data from the `payments` table.
2. It includes the `paymentDate` column and the `SUM(amount)` function.
3. The `GROUP BY` statement groups the data by `paymentDate`.
4. The `SUM()` function calculates the total payment for each date.

This ensures that payments are summed separately for each unique date.
